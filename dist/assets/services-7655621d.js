import{s,w as a}from"./index-ea234c37.js";class n{static async getServiceCategories(){try{const{data:e,error:r}=await s.from("service_categories").select("*").eq("is_active",!0).order("name_ar");if(r)throw r;return e||[]}catch(e){throw new Error(a(e))}}static async getServices(){try{const{data:e,error:r}=await s.from("services").select(`
          *,
          category:service_categories(*)
        `).eq("is_active",!0).order("name_ar");if(r)throw r;return e||[]}catch(e){throw new Error(a(e))}}static async getServicesByCategory(e){try{const{data:r,error:t}=await s.from("services").select("*").eq("category_id",e).eq("is_active",!0).order("name_ar");if(t)throw t;return r||[]}catch(r){throw new Error(a(r))}}static async getServiceById(e){try{const{data:r,error:t}=await s.from("services").select(`
          *,
          category:service_categories(*)
        `).eq("id",e).single();if(t)throw t;if(!r)throw new Error("الخدمة غير موجودة");return r}catch(r){throw new Error(a(r))}}static async createService(e){try{const{data:r,error:t}=await s.from("services").insert(e).select().single();if(t)throw t;return{success:!0,data:r,message:"تم إضافة الخدمة بنجاح"}}catch(r){return{success:!1,error:a(r)}}}static async updateService(e,r){try{const{data:t,error:c}=await s.from("services").update({...r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(c)throw c;return{success:!0,data:t,message:"تم تحديث الخدمة بنجاح"}}catch(t){return{success:!1,error:a(t)}}}static async deleteService(e){try{const{error:r}=await s.from("services").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r;return{success:!0,message:"تم حذف الخدمة بنجاح"}}catch(r){return{success:!1,error:a(r)}}}static async createServiceCategory(e){try{const{data:r,error:t}=await s.from("service_categories").insert(e).select().single();if(t)throw t;return{success:!0,data:r,message:"تم إضافة فئة الخدمة بنجاح"}}catch(r){return{success:!1,error:a(r)}}}static async updateServicePricing(e,r){try{const{data:t,error:c}=await s.from("services").update({price:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(c)throw c;return{success:!0,data:t,message:"تم تحديث سعر الخدمة بنجاح"}}catch(t){return{success:!1,error:a(t)}}}static async getPopularServices(e=10){try{const{data:r,error:t}=await s.from("services").select(`
          *,
          category:service_categories(*),
          order_items(count)
        `).eq("is_active",!0).order("order_items.count",{ascending:!1}).limit(e);if(t)throw t;return r||[]}catch(r){throw new Error(a(r))}}}export{n as S};
