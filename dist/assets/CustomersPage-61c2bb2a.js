import{c as P,r as i,j as e,d as D,X as L,H as F,L as B,V as b,U,e as q,S as z}from"./index-ea234c37.js";import{C as S}from"./customers-ac821874.js";import{C as w}from"./check-circle-6e435bc4.js";import{P as M}from"./phone-10fe367c.js";import{M as T}from"./map-pin-8712ce19.js";import{F as E}from"./file-text-61c3be99.js";import{S as A}from"./save-364108a6.js";import{D as R}from"./DeleteConfirmModal-a9e4b9ca.js";import{P as V,T as H}from"./trash-2-1b0f85d5.js";import{U as I}from"./user-x-88a06ed6.js";import{S as O}from"./search-90baa635.js";import{P as X}from"./pen-square-9a9a872d.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=P("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=P("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]),K=({isOpen:u,onClose:C,onSuccess:c,customer:o,mode:f})=>{const[a,v]=i.useState({name:"",phone:"",address:"",area:"",notes:""}),[d,k]=i.useState(!1),[l,y]=i.useState({}),[n,g]=i.useState({});i.useEffect(()=>{v(o&&f==="edit"?{name:o.name,phone:o.phone,address:o.address,area:o.area||"",latitude:(()=>{const r=o.location_coordinates;if(r){if(typeof r=="string"){const t=r.match(/\(([-0-9.]+),\s*([-0-9.]+)\)/);return t?Number(t[2]):void 0}if(typeof r=="object"&&"y"in r)return Number(r.y)}})(),longitude:(()=>{const r=o.location_coordinates;if(r){if(typeof r=="string"){const t=r.match(/\(([-0-9.]+),\s*([-0-9.]+)\)/);return t?Number(t[1]):void 0}if(typeof r=="object"&&"x"in r)return Number(r.x)}})(),is_active:o.is_active,notes:o.notes||""}:{name:"",phone:"",address:"",area:"",latitude:void 0,longitude:void 0,is_active:!0,notes:""}),y({})},[o,f,u]);const p=()=>{const r={};return a.name.trim()||(r.name="اسم العميل مطلوب"),a.phone.trim()?/^[0-9+\-\s()]+$/.test(a.phone)||(r.phone="رقم الهاتف غير صحيح"):r.phone="رقم الهاتف مطلوب",a.address.trim()||(r.address="العنوان مطلوب"),r},$=async r=>{r.preventDefault();const t=p();if(y(t),!(Object.keys(t).length>0)){k(!0);try{const h={name:a.name,phone:a.phone,address:a.address,area:a.area||null,notes:a.notes||null,is_active:a.is_active??!0,location_coordinates:a.latitude!==void 0&&a.longitude!==void 0?`(${a.longitude},${a.latitude})`:null};f==="create"?(await S.createCustomer(h),b.success("تم إضافة العميل بنجاح")):(await S.updateCustomer(o.id,h),b.success("تم تحديث بيانات العميل بنجاح")),c(),C()}catch(h){b.error("حدث خطأ أثناء حفظ البيانات"),console.error("Customer form error:",h)}finally{k(!1)}}},m=r=>{const{name:t,value:h,type:N,checked:_}=r.target,s=N==="checkbox"?_:h;v(x=>({...x,[t]:s})),g(x=>({...x,[t]:!0})),l[t]&&y(x=>({...x,[t]:""}))},j=r=>{const{name:t}=r.target;g(N=>({...N,[t]:!0}));const h=p();h[t]&&y(N=>({...N,[t]:h[t]}))};return u?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto transform animate-slide-in border border-gray-100",children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary-500 via-primary-600 to-primary-700"}),e.jsxs("div",{className:"relative flex items-center justify-between p-6 text-white",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl ml-3 shadow-lg border border-white/30",children:e.jsx(D,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-white",children:f==="create"?"إضافة عميل جديد":"تعديل بيانات العميل"}),e.jsx("p",{className:"text-primary-100 text-sm mt-1",children:f==="create"?"أدخل بيانات العميل الجديد":"قم بتعديل بيانات العميل"})]})]}),e.jsx("button",{onClick:C,className:"p-2 hover:bg-white/20 rounded-lg transition-all duration-200 hover:scale-110 border border-white/30",children:e.jsx(L,{className:"h-5 w-5 text-white"})})]})]}),e.jsxs("form",{onSubmit:$,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center label label-required text-gray-700 font-medium",children:[e.jsx(D,{className:"h-4 w-4 ml-2 text-primary-500"}),"اسم العميل"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"name",value:a.name,onChange:m,onBlur:j,className:`input transition-all duration-200 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pl-10 ${l.name?"input-error border-red-500 focus:ring-red-500":"hover:border-primary-300"} ${n.name&&!l.name&&a.name?"border-green-500 focus:ring-green-500":""}`,placeholder:"أدخل اسم العميل",disabled:d}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:n.name&&!l.name&&a.name?e.jsx(w,{className:"h-4 w-4 text-green-500"}):e.jsx(D,{className:"h-4 w-4 text-gray-400"})})]}),l.name&&e.jsxs("p",{className:"text-sm text-red-600 mt-1 animate-bounce-in flex items-center",children:[e.jsx(L,{className:"h-3 w-3 ml-1"}),l.name]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center label label-required text-gray-700 font-medium",children:[e.jsx(M,{className:"h-4 w-4 ml-2 text-primary-500"}),"رقم الهاتف"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",name:"phone",value:a.phone,onChange:m,onBlur:j,className:`input transition-all duration-200 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pl-10 ${l.phone?"input-error border-red-500 focus:ring-red-500":"hover:border-primary-300"} ${n.phone&&!l.phone&&a.phone?"border-green-500 focus:ring-green-500":""}`,placeholder:"أدخل رقم الهاتف",disabled:d}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:n.phone&&!l.phone&&a.phone?e.jsx(w,{className:"h-4 w-4 text-green-500"}):e.jsx(M,{className:"h-4 w-4 text-gray-400"})})]}),l.phone&&e.jsxs("p",{className:"text-sm text-red-600 mt-1 animate-bounce-in flex items-center",children:[e.jsx(L,{className:"h-3 w-3 ml-1"}),l.phone]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center label label-required text-gray-700 font-medium",children:[e.jsx(F,{className:"h-4 w-4 ml-2 text-primary-500"}),"العنوان"]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{name:"address",value:a.address,onChange:m,onBlur:j,className:`input transition-all duration-200 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 pl-10 ${l.address?"input-error border-red-500 focus:ring-red-500":"hover:border-primary-300"} ${n.address&&!l.address&&a.address?"border-green-500 focus:ring-green-500":""}`,placeholder:"أدخل العنوان التفصيلي",rows:3,disabled:d}),e.jsx("div",{className:"absolute left-3 top-3",children:n.address&&!l.address&&a.address?e.jsx(w,{className:"h-4 w-4 text-green-500"}):e.jsx(F,{className:"h-4 w-4 text-gray-400"})})]}),l.address&&e.jsxs("p",{className:"text-sm text-red-600 mt-1 animate-bounce-in flex items-center",children:[e.jsx(L,{className:"h-3 w-3 ml-1"}),l.address]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center label text-gray-700 font-medium",children:[e.jsx(T,{className:"h-4 w-4 ml-2 text-primary-500"}),"المنطقة"]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",name:"area",value:a.area,onChange:m,onBlur:j,className:`input transition-all duration-200 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-primary-300 pl-10 ${n.area&&a.area?"border-green-500 focus:ring-green-500":""}`,placeholder:"أدخل المنطقة (اختياري)",disabled:d}),e.jsx("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2",children:n.area&&a.area?e.jsx(w,{className:"h-4 w-4 text-green-500"}):e.jsx(T,{className:"h-4 w-4 text-gray-400"})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("h3",{className:"flex items-center text-sm font-medium text-gray-700 mb-3",children:[e.jsx(T,{className:"h-4 w-4 ml-2 text-primary-500"}),"الإحداثيات الجغرافية (اختياري)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"label text-sm",children:"دوائر العرض (Latitude)"}),e.jsx("input",{type:"number",name:"latitude",value:a.latitude??"",onChange:m,className:"input text-sm transition-all duration-200 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-primary-300",placeholder:"مثال: 30.0444",step:"0.0001",disabled:d})]}),e.jsxs("div",{children:[e.jsx("label",{className:"label text-sm",children:"خطوط الطول (Longitude)"}),e.jsx("input",{type:"number",name:"longitude",value:a.longitude??"",onChange:m,className:"input text-sm transition-all duration-200 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-primary-300",placeholder:"مثال: 31.2357",step:"0.0001",disabled:d})]})]})]}),e.jsxs("div",{className:"bg-primary-50 rounded-lg p-4 border border-primary-200",children:[e.jsxs("label",{className:"inline-flex items-center cursor-pointer group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"checkbox",name:"is_active",checked:a.is_active??!0,onChange:m,className:"sr-only"}),e.jsx("div",{className:`w-11 h-6 rounded-full transition-all duration-200 ${a.is_active?"bg-primary-500":"bg-gray-300"}`,children:e.jsx("div",{className:`w-5 h-5 bg-white rounded-full shadow-md transform transition-all duration-200 ${a.is_active?"translate-x-5":"translate-x-0.5"} mt-0.5`})})]}),e.jsx("span",{className:"ml-3 text-gray-700 font-medium group-hover:text-primary-600 transition-colors duration-200",children:"العميل نشط"}),a.is_active&&e.jsx(w,{className:"h-4 w-4 text-green-500 ml-2"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:a.is_active?"العميل متاح لاستقبال الطلبات":"العميل غير متاح حالياً"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center label text-gray-700 font-medium",children:[e.jsx(E,{className:"h-4 w-4 ml-2 text-primary-500"}),"ملاحظات"]}),e.jsxs("div",{className:"relative",children:[e.jsx("textarea",{name:"notes",value:a.notes,onChange:m,onBlur:j,className:`input transition-all duration-200 focus:ring-2 focus:ring-primary-500 focus:border-primary-500 hover:border-primary-300 pl-10 ${n.notes&&a.notes?"border-green-500 focus:ring-green-500":""}`,placeholder:"أدخل أي ملاحظات إضافية (اختياري)",rows:3,disabled:d}),e.jsx("div",{className:"absolute left-3 top-3",children:n.notes&&a.notes?e.jsx(w,{className:"h-4 w-4 text-green-500"}):e.jsx(E,{className:"h-4 w-4 text-gray-400"})})]}),a.notes&&e.jsxs("p",{className:"text-xs text-gray-500",children:[a.notes.length," حرف"]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-100",children:[e.jsx("button",{type:"button",onClick:C,className:"px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 font-medium focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2",disabled:d,children:"إلغاء"}),e.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-gradient-to-r from-primary-500 to-primary-600 text-white rounded-lg hover:from-primary-600 hover:to-primary-700 transition-all duration-200 font-medium shadow-lg hover:shadow-xl transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",disabled:d,children:d?e.jsxs("div",{className:"flex items-center",children:[e.jsx(B,{size:"small",variant:"dots"}),e.jsx("span",{className:"mr-2",children:"جاري الحفظ..."})]}):e.jsxs("div",{className:"flex items-center",children:[e.jsx(A,{className:"h-4 w-4 ml-2"}),f==="create"?"إضافة العميل":"حفظ التغييرات"]})})]})]})]})}):null},oe=()=>{const[u,C]=i.useState("all"),[c,o]=i.useState([]),[f,a]=i.useState(!0),[v,d]=i.useState(""),[k,l]=i.useState(!1),[y,n]=i.useState(!1),[g,p]=i.useState(),[$,m]=i.useState("create"),[j,r]=i.useState(!1);i.useEffect(()=>{t()},[u]);const t=async()=>{try{a(!0);const s=u==="all"?void 0:{is_active:u==="active"},x=await S.getCustomers(s);o(x.data)}catch(s){b.error("حدث خطأ في تحميل العملاء"),console.error("Customers fetch error:",s)}finally{a(!1)}},h=async()=>{if(g){r(!0);try{await S.deleteCustomer(g.id),b.success("تم حذف العميل بنجاح"),n(!1),p(void 0),t()}catch(s){b.error("حدث خطأ أثناء حذف العميل"),console.error("Delete customer error:",s)}finally{r(!1)}}},N=async s=>{try{await S.updateCustomer(s.id,{is_active:!s.is_active}),b.success("تم تحديث حالة العميل"),t()}catch(x){b.error("حدث خطأ في تحديث الحالة"),console.error(x)}},_=c.filter(s=>s.name.toLowerCase().includes(v.toLowerCase())||s.phone.includes(v)).filter(s=>u==="all"?!0:u==="active"?s.is_active:!s.is_active);return f?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(B,{size:"large",text:"جاري تحميل العملاء..."})}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-100 rounded-xl p-6 border border-blue-200",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-700 to-indigo-900 bg-clip-text text-transparent",children:"إدارة العملاء"}),e.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"إدارة قاعدة بيانات العملاء وتاريخ الخدمات"}),e.jsxs("div",{className:"flex items-center mt-3 space-x-4 space-x-reverse",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"إجمالي العملاء:"}),e.jsx("span",{className:"font-bold text-blue-700",children:c.length}),e.jsx("span",{className:"text-sm text-gray-500",children:"النشطين:"}),e.jsx("span",{className:"font-bold text-green-600",children:c.filter(s=>s.is_active).length})]})]}),e.jsxs("button",{onClick:()=>{p(void 0),m("create"),l(!0)},className:"btn-primary hover:scale-105 transition-transform duration-200 shadow-lg",children:[e.jsx(V,{className:"h-5 w-5 ml-2"}),"إضافة عميل جديد"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx("div",{className:"card-compact bg-gradient-to-br from-blue-50 to-blue-100 border-0 shadow-lg hover:shadow-xl group hover:scale-105 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(U,{className:"h-7 w-7 text-white"})})}),e.jsxs("div",{className:"mr-4 flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"إجمالي العملاء"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 group-hover:text-blue-700 transition-colors duration-300",children:c.length})]})]})}),e.jsx("div",{className:"card-compact bg-gradient-to-br from-green-50 to-green-100 border-0 shadow-lg hover:shadow-xl group hover:scale-105 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-green-500 to-green-600 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(q,{className:"h-7 w-7 text-white"})})}),e.jsxs("div",{className:"mr-4 flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"العملاء النشطين"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 group-hover:text-green-700 transition-colors duration-300",children:c.filter(s=>s.is_active).length})]})]})}),e.jsx("div",{className:"card-compact bg-gradient-to-br from-red-50 to-red-100 border-0 shadow-lg hover:shadow-xl group hover:scale-105 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-red-500 to-red-600 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(I,{className:"h-7 w-7 text-white"})})}),e.jsxs("div",{className:"mr-4 flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"العملاء الموقوفين"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 group-hover:text-red-700 transition-colors duration-300",children:c.filter(s=>!s.is_active).length})]})]})}),e.jsx("div",{className:"card-compact bg-gradient-to-br from-purple-50 to-purple-100 border-0 shadow-lg hover:shadow-xl group hover:scale-105 transition-all duration-300",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(z,{className:"h-7 w-7 text-white"})})}),e.jsxs("div",{className:"mr-4 flex-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1",children:"إجمالي الطلبات"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 group-hover:text-purple-700 transition-colors duration-300",children:c.reduce((s,x)=>s+(x.total_orders||0),0)})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsx("div",{className:"card-compact flex-1 min-w-[300px]",children:e.jsxs("div",{className:"relative",children:[e.jsx(O,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"البحث عن عميل بالاسم أو رقم الهاتف...",className:"input pr-10 w-full focus:ring-2 focus:ring-blue-500 transition-all duration-200",value:v,onChange:s=>d(s.target.value)})]})}),e.jsx("div",{className:"card-compact",children:e.jsxs("select",{value:u,onChange:s=>C(s.target.value),className:"input focus:ring-2 focus:ring-blue-500 transition-all duration-200",children:[e.jsxs("option",{value:"all",children:["كل الحالات (",c.length,")"]}),e.jsxs("option",{value:"active",children:["نشط (",c.filter(s=>s.is_active).length,")"]}),e.jsxs("option",{value:"inactive",children:["موقوف (",c.filter(s=>!s.is_active).length,")"]})]})}),e.jsx("div",{className:"card-compact bg-gradient-to-r from-gray-50 to-gray-100",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-semibold",children:"النتائج:"}),e.jsx("span",{className:"mr-2 font-bold text-blue-600",children:_.length}),e.jsx("span",{children:"عميل"})]})})]}),e.jsx("div",{className:"card-elevated",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"table",children:[e.jsx("thead",{className:"table-header",children:e.jsxs("tr",{children:[e.jsx("th",{className:"table-header-cell",children:"الاسم"}),e.jsx("th",{className:"table-header-cell",children:"رقم الهاتف"}),e.jsx("th",{className:"table-header-cell",children:"المنطقة"}),e.jsx("th",{className:"table-header-cell",children:"عدد الطلبات"}),e.jsx("th",{className:"table-header-cell",children:"الحالة"}),e.jsx("th",{className:"table-header-cell",children:"تاريخ التسجيل"}),e.jsx("th",{className:"table-header-cell",children:"الإجراءات"})]})}),e.jsx("tbody",{className:"table-body",children:_.map(s=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"table-cell font-medium",children:s.name}),e.jsx("td",{className:"table-cell",children:s.phone}),e.jsx("td",{className:"table-cell",children:s.area||"غير محدد"}),e.jsx("td",{className:"table-cell",children:s.total_orders||0}),e.jsx("td",{className:"table-cell",children:s.is_active?e.jsx("span",{className:"badge badge-success animate-pulse",children:"نشط"}):e.jsx("span",{className:"badge badge-gray",children:"موقوف"})}),e.jsx("td",{className:"table-cell",children:new Date(s.created_at).toLocaleDateString("ar-AE")}),e.jsx("td",{className:"table-cell",children:e.jsxs("div",{className:"flex space-x-2 space-x-reverse",children:[e.jsx("button",{onClick:()=>{p(s),m("edit"),l(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-all duration-200 hover:scale-110 shadow-sm hover:shadow-md",title:"تعديل",children:e.jsx(X,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N(s),className:`p-2 rounded-lg transition-all duration-200 hover:scale-110 shadow-sm hover:shadow-md ${s.is_active?"text-yellow-600 hover:bg-yellow-50":"text-green-600 hover:bg-green-50"}`,title:s.is_active?"إيقاف":"إعادة تفعيل",children:s.is_active?e.jsx(G,{className:"h-4 w-4"}):e.jsx(J,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>{p(s),n(!0)},className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 hover:scale-110 shadow-sm hover:shadow-md",title:"حذف",children:e.jsx(H,{className:"h-4 w-4"})})]})})]},s.id))})]}),_.length===0&&e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"لا توجد عملاء مطابقين للبحث"})})]})}),e.jsx(K,{isOpen:k,onClose:()=>{l(!1),p(void 0)},onSuccess:()=>{t()},customer:g,mode:$}),e.jsx(R,{isOpen:y,onClose:()=>{n(!1),p(void 0)},onConfirm:h,title:"حذف العميل",message:"هل أنت متأكد من رغبتك في حذف هذا العميل؟ سيتم حذف جميع البيانات المرتبطة به.",itemName:g==null?void 0:g.name,loading:j})]})};export{oe as default};
